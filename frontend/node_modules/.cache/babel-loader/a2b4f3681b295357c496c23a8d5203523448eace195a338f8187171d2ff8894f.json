{"ast":null,"code":"import{Routes,Route,Navigate,Outlet}from'react-router-dom';import'./App.css';import NavBar from'./components/NavBar';import Spinner from'./components/Spinner';import Login from'./pages/Login';import Register from'./pages/Register';import Devices from'./pages/Devices';import AddDevice from'./pages/AddDevice';import MyAppointments from'./pages/MyAppointments';import Appointments from'./pages/Appointments';import Dashboard from'./pages/Dashboard';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{isAuth}from'./features/auth/authSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();useEffect(function(){try{dispatch(isAuth());}catch(error){console.log(error);}},[dispatch]);var _useSelector=useSelector(function(state){return state.auth;}),message=_useSelector.message;var appointment_message=useSelector(function(state){return state.appt.message;});useEffect(function(){if(message!==''){toast(message);}},[message]);useEffect(function(){if(appointment_message!==''){toast(appointment_message);}},[appointment_message]);var _useSelector2=useSelector(function(state){return state.auth;}),isAuthenticated=_useSelector2.isAuthenticated,isPending=_useSelector2.isPending;if(isPending){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{isAuthenticated:isAuthenticated}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsxs(Route,{element:isPending?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(LoginRoute,{isAuthenticated:isAuthenticated}),children:[/*#__PURE__*/_jsx(Route,{path:\"login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"register\",element:/*#__PURE__*/_jsx(Register,{toast:toast})})]}),/*#__PURE__*/_jsxs(Route,{element:isPending?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(ProtectedRoute,{isAuthenticated:isAuthenticated}),children:[/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"appts\",element:/*#__PURE__*/_jsx(Appointments,{toast:toast})}),/*#__PURE__*/_jsx(Route,{path:\"myAppts\",element:/*#__PURE__*/_jsx(MyAppointments,{})}),/*#__PURE__*/_jsx(Route,{path:\"devices\",element:/*#__PURE__*/_jsx(Devices,{toast:toast})}),/*#__PURE__*/_jsx(Route,{path:\"addDevice\",element:/*#__PURE__*/_jsx(AddDevice,{toast:toast})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"\"})})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:500})]})]});}function LoginRoute(_ref){var isAuthenticated=_ref.isAuthenticated;if(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}else{return/*#__PURE__*/_jsx(Outlet,{});}}function ProtectedRoute(_ref2){var isAuthenticated=_ref2.isAuthenticated;if(isAuthenticated){return/*#__PURE__*/_jsx(Outlet,{});}else{return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}}export default App;","map":{"version":3,"names":["Routes","Route","Navigate","Outlet","NavBar","Spinner","Login","Register","Devices","AddDevice","MyAppointments","Appointments","Dashboard","ToastContainer","toast","useEffect","useSelector","useDispatch","isAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","dispatch","error","console","log","_useSelector","state","auth","message","appointment_message","appt","_useSelector2","isAuthenticated","isPending","children","className","element","LoginRoute","path","ProtectedRoute","to","autoClose","_ref","replace","_ref2"],"sources":["/Users/jrrrrr/CS50W/final/dorm/frontend/src/App.js"],"sourcesContent":["import { Routes, Route, Navigate, Outlet } from 'react-router-dom'\n\nimport './App.css'\n\nimport NavBar from './components/NavBar'\nimport Spinner from './components/Spinner'\n\nimport Login from './pages/Login'\nimport Register from './pages/Register'\nimport Devices from './pages/Devices'\nimport AddDevice from './pages/AddDevice'\nimport MyAppointments from './pages/MyAppointments'\nimport Appointments from './pages/Appointments'\nimport Dashboard from './pages/Dashboard'\n\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { isAuth } from './features/auth/authSlice'\n\nfunction App() {\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    try {\n      dispatch(isAuth())\n    } catch (error) {\n      console.log(error)\n    }\n  }, [dispatch])\n\n  const { message } = useSelector((state) => state.auth)\n  const appointment_message = useSelector((state) => state.appt.message)\n\n  useEffect(() => {\n    if (message !== '') {\n      toast(message)\n    }\n  }, [message])\n\n  useEffect(() => {\n    if (appointment_message !== '') {\n      toast(appointment_message)\n    }\n  }, [appointment_message])\n\n  const { isAuthenticated, isPending } = useSelector((state) => state.auth)\n\n  if (isPending) {\n    return (\n      <Spinner />\n    )\n  }\n\n  return (\n    <>\n      <NavBar isAuthenticated={isAuthenticated} />\n      <div className=''>\n        <Routes>\n          <Route element={isPending ? <Spinner /> : <LoginRoute isAuthenticated={isAuthenticated} />}>\n            <Route path='login' element={<Login />} />\n            <Route path='register' element={<Register toast={toast} />} />\n          </Route>\n          <Route element={isPending ? <Spinner /> : <ProtectedRoute isAuthenticated={isAuthenticated} />}>\n            <Route path='' element={<Dashboard />} />\n            <Route path='appts' element={<Appointments toast={toast} />} />\n            <Route path='myAppts' element={<MyAppointments />} />\n            <Route path='devices' element={<Devices toast={toast} />} />\n            <Route path='addDevice' element={<AddDevice toast={toast} />} />\n          </Route>\n          <Route path=\"*\" element={<Navigate to='' />} />\n        </Routes>\n        <ToastContainer autoClose={500} />\n      </div>\n    </>\n  );\n}\n\n\nfunction LoginRoute({ isAuthenticated }) {\n  if (isAuthenticated) {\n    return <Navigate to='/dashboard' replace />\n  }\n  else {\n    return <Outlet />\n  }\n}\n\nfunction ProtectedRoute({ isAuthenticated }) {\n  if (isAuthenticated) {\n    return <Outlet />\n  }\n  else {\n    return <Navigate to='/login' replace />\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}