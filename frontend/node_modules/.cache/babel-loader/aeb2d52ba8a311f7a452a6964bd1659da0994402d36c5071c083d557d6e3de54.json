{"ast":null,"code":"import _defineProperty from\"/Users/jrrrrr/CS50W/final/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jrrrrr/CS50W/final/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jrrrrr/CS50W/final/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch}from'react-redux';import{register}from'../features/auth/authSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(_ref){var toast=_ref.toast;var _useState=useState({username:'',room_number:'',password:'',confirmation:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setformData=_useState2[1];var username=formData.username,room_number=formData.room_number,password=formData.password,confirmation=formData.confirmation;function onChange(e){setformData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});}var dispatch=useDispatch();function onSubmit(e){e.preventDefault();if(password!==confirmation){toast.error('Passwords do not match');return;}var userData={username:username,password:password,confirmation:confirmation,room_number:room_number};try{dispatch(register(userData));}catch(error){console.log(error);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-sm p-5 mt-5 pt-3 auth-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"to use the Dorm App\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"text\",name:\"username\",className:\"form-control\",id:\"username\",placeholder:\"username\",onChange:onChange,value:username}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"number\",name:\"room_number\",className:\"form-control\",id:\"room_number\",placeholder:\"0000\",onChange:onChange,value:room_number}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"room_number\",children:\"room number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"password\",name:\"password\",className:\"form-control\",id:\"password\",placeholder:\"password\",onChange:onChange,value:password}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"password\",name:\"confirmation\",className:\"form-control\",id:\"confirmation\",placeholder:\"confirm password\",onChange:onChange,value:confirmation}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmation\",children:\"confirm password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary btn-lg\",type:\"submit\",children:\"Sign Up\"})})]})]});}","map":{"version":3,"names":["useState","useDispatch","register","jsx","_jsx","jsxs","_jsxs","Register","_ref","toast","_useState","username","room_number","password","confirmation","_useState2","_slicedToArray","formData","setformData","onChange","e","prevState","_objectSpread","_defineProperty","target","name","value","dispatch","onSubmit","preventDefault","error","userData","console","log","className","children","autoComplete","type","id","placeholder","htmlFor"],"sources":["/Users/jrrrrr/CS50W/final/frontend/src/pages/Register.js"],"sourcesContent":["import { useState } from \"react\"\nimport { useDispatch } from 'react-redux'\nimport { register } from '../features/auth/authSlice'\n\n\n\nexport default function Register({ toast }) {\n    const [formData, setformData] = useState({\n        username: '',\n        room_number: '',\n        password: '',\n        confirmation: ''\n    })\n\n    const { username, room_number, password, confirmation } = formData\n\n    function onChange(e) {\n        setformData((prevState) => ({\n            ...prevState,\n            [e.target.name]: e.target.value\n        }))\n    }  \n    const dispatch = useDispatch()\n\n    function onSubmit(e) {\n        e.preventDefault()\n        if (password !== confirmation) {\n            toast.error('Passwords do not match')\n            return\n        }\n\n        let userData = {\n            username,\n            password,\n            confirmation,\n            room_number\n        }\n        try {\n            dispatch(register(userData))\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n\n    return (\n        <div className=\"container-sm p-5 mt-5 pt-3 auth-box\">\n            <div className=\"text-center mb-3\">\n                <h1>Register</h1>\n                <p className=\"lead\">to use the Dorm App</p>\n            </div>\n            <form onSubmit={onSubmit}>\n                <div className=\"form-floating mb-3\">\n                    <input\n                        autoComplete=\"off\"\n                        type=\"text\"\n                        name=\"username\"\n                        className=\"form-control\"\n                        id=\"username\" placeholder=\"username\"\n                        onChange={onChange}\n                        value={username}\n                    />\n                    <label htmlFor=\"floatingInput\">username</label>\n                </div>\n                <div className=\"form-floating mb-3\">\n                    <input\n                        autoComplete=\"off\"\n                        type=\"number\"\n                        name=\"room_number\"\n                        className=\"form-control\"\n                        id=\"room_number\"\n                        placeholder=\"0000\"\n                        onChange={onChange}\n                        value={room_number}\n                    />\n                    <label htmlFor=\"room_number\">room number</label>\n                </div>\n                <div className=\"form-floating mb-3\">\n                    <input\n                        autoComplete=\"off\"\n                        type=\"password\"\n                        name=\"password\"\n                        className=\"form-control\"\n                        id=\"password\"\n                        placeholder=\"password\"\n                        onChange={onChange}\n                        value={password}\n                    />\n                    <label htmlFor=\"password\">password</label>\n                </div>\n                <div className=\"form-floating mb-4\">\n                    <input\n                        autoComplete=\"off\"\n                        type=\"password\"\n                        name=\"confirmation\"\n                        className=\"form-control\"\n                        id=\"confirmation\"\n                        placeholder=\"confirm password\"\n                        onChange={onChange}\n                        value={confirmation}\n                    />\n                    <label htmlFor=\"confirmation\">confirm password</label>\n                </div>\n                <div className=\"d-grid gap-2\">\n                    <button className=\"btn btn-outline-secondary btn-lg\" type=\"submit\">Sign Up</button>\n                </div>\n            </form>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}