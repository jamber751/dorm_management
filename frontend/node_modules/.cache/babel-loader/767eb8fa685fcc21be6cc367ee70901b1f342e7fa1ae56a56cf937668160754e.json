{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport apptService from './apptService';\nconst initialState = {\n  appointments: null,\n  message: ''\n};\nexport const getAppts = createAsyncThunk('appt/get', async (user, thunkAPI) => {\n  try {\n    return await apptService.getAppts(user);\n  } catch (error) {\n    const message = error.response.data['error'];\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const bookAppt = createAsyncThunk('appt/book', async (user, thunkAPI) => {\n  try {\n    return await apptService.bookAppt(user);\n  } catch (error) {\n    const message = error.response.data['error'];\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const myAppt = createAsyncThunk('appt/my', async (user, thunkAPI) => {\n  try {\n    return await apptService.myAppts(user);\n  } catch (error) {\n    const message = error.response.data['error'];\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const cancelAppt = createAsyncThunk('appt/cance', async (user, thunkAPI) => {\n  try {\n    return await apptService.cancelAppt(user);\n  } catch (error) {\n    const message = error.response.data['error'];\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const apptSlice = createSlice({\n  name: \"appt\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getAppts.fulfilled, (state, action) => {\n      state.appointments = action.payload;\n      state.message = '';\n    }).addCase(getAppts.rejected, (state, action) => {\n      state.message = action.payload;\n    }).addCase(bookAppt.fulfilled, (state, action) => {\n      state.message = 'Appointment booked';\n    }).addCase(bookAppt.rejected, (state, action) => {\n      state.message = action.payload;\n    }).addCase(myAppt.fulfilled, (state, action) => {\n      state.appointments = action.payload;\n      state.message = '';\n    }).addCase(myAppt.rejected, (state, action) => {\n      state.message = action.payload;\n    }).addCase(cancelAppt.fulfilled, (state, action) => {\n      state.message = action.payload.message;\n    }).addCase(cancelAppt.rejected, (state, action) => {\n      state.message = action.payload;\n    });\n  }\n});\nexport default apptSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","apptService","initialState","appointments","message","getAppts","user","thunkAPI","error","response","data","rejectWithValue","bookAppt","myAppt","myAppts","cancelAppt","apptSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","rejected","reducer"],"sources":["/Users/jrrrrr/CS50W/final/dorm/frontend/src/features/appt/apptSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"\nimport apptService from './apptService'\n\nconst initialState = {\n    appointments: null,\n    message: ''\n}\n\nexport const getAppts = createAsyncThunk('appt/get', async (user, thunkAPI) => {\n    try {\n        return await apptService.getAppts(user)\n    } catch (error) {\n        const message = error.response.data['error']\n        return thunkAPI.rejectWithValue(message)\n    }\n})\n\nexport const bookAppt = createAsyncThunk('appt/book', async (user, thunkAPI) => {\n    try {\n        return await apptService.bookAppt(user)\n    } catch (error) {\n        const message = error.response.data['error']\n        return thunkAPI.rejectWithValue(message)\n    }\n})\n\nexport const myAppt = createAsyncThunk('appt/my', async (user, thunkAPI) => {\n    try {\n        return await apptService.myAppts(user)\n    } catch (error) {\n        const message = error.response.data['error']\n        return thunkAPI.rejectWithValue(message)\n    }\n})\n\nexport const cancelAppt = createAsyncThunk('appt/cance', async (user, thunkAPI) => {\n    try {\n        return await apptService.cancelAppt(user)\n    } catch (error) {\n        const message = error.response.data['error']\n        return thunkAPI.rejectWithValue(message)\n    }\n})\n\nexport const apptSlice = createSlice({\n    name: \"appt\",\n    initialState,\n    reducers: {\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(getAppts.fulfilled, (state, action) => {\n                state.appointments = action.payload\n                state.message = ''\n            })\n            .addCase(getAppts.rejected, (state, action) => {\n                state.message = action.payload\n            })\n            .addCase(bookAppt.fulfilled, (state, action) => {\n                state.message = 'Appointment booked'\n            })\n            .addCase(bookAppt.rejected, (state, action) => {\n                state.message = action.payload\n            })\n            .addCase(myAppt.fulfilled, (state, action) => {\n                state.appointments = action.payload\n                state.message = ''\n            })\n            .addCase(myAppt.rejected, (state, action) => {\n                state.message = action.payload\n            })\n            .addCase(cancelAppt.fulfilled, (state, action) => {\n                state.message = action.payload.message\n            })\n            .addCase(cancelAppt.rejected, (state, action) => {\n                state.message = action.payload\n            })\n    }\n\n\n})\n\nexport default apptSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}