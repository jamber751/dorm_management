{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jrrrrr/CS50W/final/dorm/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jrrrrr/CS50W/final/dorm/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import Cookies from'js-cookie';var AUTH_URL='auth/';export var getCSRF=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(AUTH_URL+\"csrf\");case 2:config={headers:{'Accept':'application/json','Content-Type':'application/json','X-CSRFToken':Cookies.get('csrftoken')}};return _context.abrupt(\"return\",config);case 4:case\"end\":return _context.stop();}},_callee);}));return function getCSRF(){return _ref.apply(this,arguments);};}();function register(_x){return _register.apply(this,arguments);}function _register(){_register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userData){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(AUTH_URL+'register',userData);case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return _register.apply(this,arguments);}function login(_x2){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(userData){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(AUTH_URL+'login',userData);case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);}));return _login.apply(this,arguments);}function logout(_x3){return _logout.apply(this,arguments);}function _logout(){_logout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(userData){var config,response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getCSRF();case 2:config=_context4.sent;_context4.next=5;return axios.post(AUTH_URL+'logout',userData,config);case 5:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 7:case\"end\":return _context4.stop();}},_callee4);}));return _logout.apply(this,arguments);}function isAuth(){return _isAuth.apply(this,arguments);}function _isAuth(){_isAuth=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(AUTH_URL+'check');case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 4:case\"end\":return _context5.stop();}},_callee5);}));return _isAuth.apply(this,arguments);}var authService={register:register,login:login,logout:logout,isAuth:isAuth};export default authService;","map":{"version":3,"names":["axios","Cookies","AUTH_URL","getCSRF","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","wrap","_callee$","_context","prev","next","get","headers","abrupt","stop","apply","arguments","register","_x","_register","_callee2","userData","response","_callee2$","_context2","post","sent","data","login","_x2","_login","_callee3","_callee3$","_context3","logout","_x3","_logout","_callee4","_callee4$","_context4","isAuth","_isAuth","_callee5","_callee5$","_context5","authService"],"sources":["/Users/jrrrrr/CS50W/final/dorm/frontend/src/features/auth/authService.js"],"sourcesContent":["import axios from 'axios'\nimport Cookies from 'js-cookie'\nconst AUTH_URL = 'auth/'\n\nexport const getCSRF = async() => {\n    await axios.get(AUTH_URL + \"csrf\")\n    const config = {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'X-CSRFToken': Cookies.get('csrftoken')\n        }\n    };\n    return config\n}\n\nasync function register(userData) {\n    const response = await axios.post(AUTH_URL + 'register', userData)\n    return response.data\n}\n\nasync function login(userData) {\n    const response = await axios.post(AUTH_URL + 'login', userData)\n    return response.data\n}\n\nasync function logout(userData) {\n    const config = await getCSRF()\n    const response = await axios.post(AUTH_URL + 'logout', userData, config)\n    return response.data\n}\n\nasync function isAuth() {\n    const response = await axios.get(AUTH_URL + 'check')\n    return response.data\n}\n\nconst authService = {\n    register,\n    login,\n    logout,\n    isAuth\n}\n\nexport default authService"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}